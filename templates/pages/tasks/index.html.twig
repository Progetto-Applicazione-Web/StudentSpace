{% extends 'base.html.twig' %}

{% set todolists = app.user.studente.todolists %}

{% block body %}
    <div class="hidden absolute" id="modalTasks">{% include 'pages/tasks/modal.html.twig' %}</div>
		<div class="hidden absolute" id="modalEditTasks">{% include 'pages/tasks/modalEdit.html.twig' %}</div>
    {{ parent() }}
{% endblock %}

{% block body_content %}
	<div class="flex-col overflow-y-scroll scrollbar-none w-full h-full bg-whitee flex p-[20px] gap-[20px] rounded-[40px] shadows justify-start">
		<div class="flex flex-col gap-4">
			<!-- Sezione -->
			<p class="p text-grayy">Da Fare</p>
			<div class="flex gap-4 w-full  overflow-x-scroll scrollbar-none">
				{% for todolist in todolists %}
					{% if not todolist.isCompletato %}
						<div class="border-2 br-bg flex flex-col p-[20px] rounded-[30px] gap-4 shrink-0">
							<!-- Task Card -->
							<h2 class="heading-2  text-blackk">{{ todolist.titolo|title }}</h2>
							<div class="flex flex-col gap-4">
								{% for task in todolist.tasks %}
									<span class="flex items-center gap-4">
										<div class="rounded-full bg-bg h-6 cursor-pointer aspect-square"></div>
										<p class="p text-blackk">{{ task.descrizione }}</p>
									</span>
								{% endfor %}
							</div>
						</div>
					{% endif %}
				{% endfor %}
			</div>

		</div>

		<div class="flex flex-col gap-4">
			<!-- Sezione -->
			<p class="p text-grayy">Fatto</p>
			<div class="flex gap-4 w-full  flex-wrap">
				{% for todolist in todolists %}
					{% if todolist.isCompletato %}
						<div class="border-2 br-bg flex flex-col p-[20px] rounded-[30px] gap-4 shrink-0">
							<!-- Task Card -->
							<h2 class="heading-2  text-blackk line-through">{{ todolist.titolo|title }}</h2>
						</div>
					{% endif %}
				{% endfor %}
			</div>
		</div>


	</div>
{% endblock %}

 {% block javascripts_custom %}
	 {{ parent() }}
	 <script src="{{ asset("scripts/service/ajax/submitTodoList.js") }}"></script>
 {% endblock %}
